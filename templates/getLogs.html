{% extends "base.html" %}

{% block header %}

<h1 style="text-align: center; font-size: 40px;margin-top: 10px;">My workout logs</h1>
{% endblock header %}

{% block midbody %}


<div style='float:left'>
    <form action="/logsByDate" method="post" >
        <label for="oneLogDate">Get Log by Date:</label><br>
        <input type="date" 
            id="specificLogDate" 
            name="oneLogDate" 
            min="2022-03-23"
            max=""
            value=""><br>
        <input type="submit" value="getLogs" class="btn btn-primary">
    </form>
</div>

<div style="width:50%; margin:auto;">
    <div style="display:inline-block; width:45%;text-align:left;">
    <form action="/logsByNumber" method="post" >
        <label for="numberOfLogs">How many logs?(limit 5)</label><br>
        <input type="text" 
            id="numberOfLogs" 
            name="numberOfLogs" 
            min="1"
            max="5"
            value=""><br>
        <input type="submit" value="getLogs" class="btn btn-primary">
    </form>
</div>
</div>


<script>
    console.log('{{ maxDate }}')
    document.getElementById('specificLogDate').setAttribute('max','{{ maxDate }}')
</script>

{% if inValid %}
    <h3>Invalid date, make sure it's before or on the date at home screen that can be accessed by the home button on top </h3>
{% endif %}

{% endblock midbody %}

{% block workout_table %}

{% if oneDateLogMD %}
<h4>here is the log for {{ oneDateLogMD.date }}</h4>
<h4>Routine: {{ oneDateLogMD.name }}</h4>
{% if oneDateLogMD.type == "H" %}
    <h4>Type: Heavy</h4>
{% endif %}
{% if oneDateLogMD.type == "V" %}
    <h4>Type: Volume</h4>
{% endif %}
<br>
<table class="table table-bordered">
    <thead class="thead-dark">
        <tr>
            <th scope="col">Exercise</th>
            <th scope="col">Sets</th>
            <th scope="col">Reps</th>
        </tr>
    </thead>
    {% for exercise in oneDateLog %}
        <tr>
            <td>{{ exercise.name }}</td>
            <td>{{ exercise.sets }}</td>
            <td>{{ exercise.reps }}</td>
            <td>{{ exercise.weight }}</td>
        </tr>
    {% endfor %}
</table>
{% endif %}

{% if nLogs and nLogsMD %}
{% for i in range(n)%}
    <h4>Date: {{ nLogsMD[i].date }}</h4>
    <h4>Routine: {{ nLogsMD[i].name }}</h4>
    {% if nLogsMD[i].type == "H" %}
        <h4>Type: Heavy</h4>
    {% endif %}
    {% if nLogsMD[i].type == "V" %}
        <h4>Type: Volume</h4>
    {% endif %}
    <br>

    <<table class="table table-bordered">
        <thead class="thead-dark">
            <tr>
                <th scope="col">Exercise</th>
                <th scope="col">Sets</th>
                <th scope="col">Reps</th>
                <th scope="col">Weight</th>
            </tr>
        </thead>
        {% for exercise in nLogs[i] %}
            <tr>
                <td>{{ exercise.name }}</td>
                <td>{{ exercise.sets }}</td>
                <td>{{ exercise.reps }}</td>
                <td>{{ exercise.weight }}</td>
            </tr>
        {% endfor %}
    </table>
{% endfor %}
{% endif %}






{% endblock workout_table %}